module.exports=[53250,a=>{"use strict";let b="https://zoff-scope-backend.azurewebsites.net";async function c(a,c){console.log(`[API] Fetching stores from: ${b}/stores/`);let d=new URLSearchParams;a&&d.append("prefecture",a),c&&d.append("city",c),d.append("_t",Date.now().toString());let e=await fetch(`${b}/stores/?${d.toString()}`,{cache:"no-store"});if(!e.ok)throw Error("Failed to fetch stores");return e.json()}async function d(a){let c=await fetch(`${b}/stores/${a}/staff`,{cache:"no-store"});if(!c.ok)throw Error("Failed to fetch staff");return c.json()}async function e(){let a=await fetch(`${b}/staffs/`,{cache:"no-store"});if(!a.ok)throw Error("Failed to fetch all staff");return a.json()}async function f(a=1e3){let c=await fetch(`${b}/tags/?limit=${a}`,{cache:"no-store"});if(!c.ok)throw Error("Failed to fetch tags");return c.json()}async function g(a){let c=await fetch(`${b}/staffs/${a}`,{cache:"no-store"});if(!c.ok)throw Error("Failed to fetch staff");return c.json()}async function h(a){let c=await fetch(`${b}/stores/${a}`,{cache:"no-store"});if(!c.ok)throw Error("Failed to fetch store");return c.json()}a.s(["fetchAllStaff",()=>e,"fetchStaff",()=>g,"fetchStore",()=>h,"fetchStoreStaff",()=>d,"fetchStores",()=>c,"fetchTags",()=>f])},13802,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(50944),f=a.i(60246),g=a.i(70106);let h=(0,g.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),i=(0,g.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var j=a.i(53250);function k(){let a=(0,e.useParams)(),[g,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(!0);return(0,c.useEffect)(()=>{a.id&&(async()=>{try{let b=await (0,j.fetchStoreStaff)(Number(a.id));k(b)}catch(a){console.error(a)}finally{m(!1)}})()},[a.id]),(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-800",children:[(0,b.jsx)("header",{className:"bg-white border-b border-gray-200 p-4 sticky top-0 z-10 flex justify-between items-center shadow-sm",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.default,{href:"/store",className:"text-gray-500 hover:text-blue-600 font-bold text-sm",children:"← 店舗選択"}),(0,b.jsx)("span",{className:"text-gray-300",children:"|"}),(0,b.jsx)("h1",{className:"text-lg font-bold text-gray-800",children:"店舗ダッシュボード"})]})}),(0,b.jsxs)("main",{className:"p-6 max-w-4xl mx-auto",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,b.jsxs)(d.default,{href:`/store/${a.id}/service`,className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1 flex flex-col justify-between h-48",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h,{className:"w-10 h-10 mb-4 opacity-80"}),(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"Service Mode"}),(0,b.jsx)("p",{className:"text-blue-100 mt-1",children:"接客・カルテ・視力データ確認"})]}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsxs)("span",{className:"bg-white/20 px-4 py-2 rounded-full text-sm font-bold flex items-center backdrop-blur-sm",children:["開く ",(0,b.jsx)(i,{className:"w-4 h-4 ml-1"})]})})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 shadow-sm flex flex-col justify-center items-center text-gray-400",children:[(0,b.jsx)("span",{className:"text-sm",children:"本日の予約数"}),(0,b.jsx)("span",{className:"text-4xl font-bold text-gray-700",children:"12"})]})]}),(0,b.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[(0,b.jsx)(f.Users,{className:"w-5 h-5 mr-2 text-blue-600"}),"所属スタッフ一覧"]}),l?(0,b.jsx)("div",{className:"text-center py-10 text-gray-500",children:"読み込み中..."}):(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(c=>(0,b.jsxs)(d.default,{href:`/store/${a.id}/staff/${c.id}`,className:"bg-white p-4 rounded-xl border border-[#00A0E9] shadow-sm hover:shadow-md transition-all flex items-center gap-4 group",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gray-100 flex-shrink-0 border border-gray-100",children:(0,b.jsx)("img",{src:c.image_url||"/images/staff/default.jpg",alt:c.display_name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform",onError:a=>{a.currentTarget.src="/globe.svg"}})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"font-bold text-gray-800 truncate",children:c.display_name}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:c.roles?c.roles.join(", "):"Staff"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[(0,b.jsx)("span",{className:"text-[10px] bg-blue-50 text-blue-600 px-2 py-0.5 rounded-full border border-blue-200",children:"#フィッティング"}),(0,b.jsx)("span",{className:"text-[10px] bg-orange-50 text-orange-600 px-2 py-0.5 rounded-full border border-orange-200",children:"#色彩検定"})]})]})]},c.id))})]})]})}a.s(["default",()=>k],13802)}];

//# sourceMappingURL=_479d97f3._.js.map