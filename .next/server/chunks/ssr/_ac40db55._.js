module.exports=[53250,a=>{"use strict";let b="https://zoff-scope-backend.azurewebsites.net";async function c(a,c){console.log(`[API] Fetching stores from: ${b}/stores/`);let d=new URLSearchParams;a&&d.append("prefecture",a),c&&d.append("city",c),d.append("_t",Date.now().toString());let e=await fetch(`${b}/stores/?${d.toString()}`,{cache:"no-store"});if(!e.ok)throw Error("Failed to fetch stores");return e.json()}async function d(a){let c=await fetch(`${b}/stores/${a}/staff`,{cache:"no-store"});if(!c.ok)throw Error("Failed to fetch staff");return c.json()}async function e(){let a=await fetch(`${b}/staffs/`,{cache:"no-store"});if(!a.ok)throw Error("Failed to fetch all staff");return a.json()}async function f(a=1e3){let c=await fetch(`${b}/tags/?limit=${a}`,{cache:"no-store"});if(!c.ok)throw Error("Failed to fetch tags");return c.json()}async function g(a){let c=await fetch(`${b}/staffs/${a}`,{cache:"no-store"});if(!c.ok)throw Error("Failed to fetch staff");return c.json()}async function h(a){let c=await fetch(`${b}/stores/${a}`,{cache:"no-store"});if(!c.ok)throw Error("Failed to fetch store");return c.json()}a.s(["fetchAllStaff",()=>e,"fetchStaff",()=>g,"fetchStore",()=>h,"fetchStoreStaff",()=>d,"fetchStores",()=>c,"fetchTags",()=>f])},28114,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(53250),e=a.i(60577);let f={北海道:["北海道"],東北:["青森県","岩手県","宮城県","秋田県","山形県","福島県"],関東:["東京都","茨城県","栃木県","群馬県","埼玉県","千葉県","神奈川県"],甲信越:["新潟県","山梨県","長野県"],北陸:["富山県","石川県","福井県"],東海:["岐阜県","静岡県","愛知県","三重県"],近畿:["滋賀県","京都府","大阪府","兵庫県","奈良県","和歌山県"],中国:["鳥取県","島根県","岡山県","広島県","山口県"],四国:["徳島県","香川県","愛媛県","高知県"],九州:["福岡県","佐賀県","長崎県","熊本県","大分県","宮崎県","鹿児島県"],沖縄:["沖縄県"]};function g(){let[a,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(null);(0,c.useEffect)(()=>{!async function(){try{let a=await (0,d.fetchStores)();g(a)}catch(a){console.error(a)}}()},[]);let n=h?f[h]:[],o=a.filter(a=>(!h||!f[h]||!!f[h].includes(a.prefecture))&&(!j||a.prefecture===j)),p=l?`https://zoff-scope-frontend.azurewebsites.net/stores/${l.id}`:"";return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center p-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-8",children:"店舗QRコード発行"}),(0,b.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-lg w-full max-w-2xl border border-gray-100",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"地方"}),(0,b.jsxs)("select",{className:"w-full p-3 border border-gray-200 rounded-lg bg-gray-50 focus:ring-2 focus:ring-blue-500 outline-none",value:h,onChange:a=>{i(a.target.value),k(""),m(null)},children:[(0,b.jsx)("option",{value:"",children:"選択してください"}),Object.keys(f).map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"都道府県"}),(0,b.jsxs)("select",{className:"w-full p-3 border border-gray-200 rounded-lg bg-gray-50 focus:ring-2 focus:ring-blue-500 outline-none disabled:opacity-50",value:j,onChange:a=>{k(a.target.value),m(null)},disabled:!h,children:[(0,b.jsx)("option",{value:"",children:"選択してください"}),n.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"店舗選択"}),(0,b.jsxs)("select",{className:"w-full p-3 border border-gray-200 rounded-lg bg-gray-50 focus:ring-2 focus:ring-blue-500 outline-none disabled:opacity-50",value:l?l.id:"",onChange:b=>{let c=Number(b.target.value);m(a.find(a=>a.id===c)||null)},disabled:!j,children:[(0,b.jsx)("option",{value:"",children:"店舗を選択してください"}),o.map(a=>(0,b.jsxs)("option",{value:a.id,children:["Zoff ",a.name]},a.id))]})]}),l&&(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center p-8 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-300",children:[(0,b.jsx)("div",{className:"bg-white p-4 rounded-xl shadow-sm mb-4",children:(0,b.jsx)(e.QRCodeSVG,{value:p,size:250,level:"H",includeMargin:!0})}),(0,b.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:["Zoff ",l.name]}),(0,b.jsx)("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm break-all font-mono",children:p}),(0,b.jsx)("p",{className:"mt-4 text-sm text-gray-500",children:"このQRコードを読み取ると、店舗のスタッフ一覧ページに直接アクセスします。"})]})]})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=_ac40db55._.js.map