module.exports=[50522,a=>{"use strict";let b=(0,a.i(70106).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],50522)},53250,a=>{"use strict";let b="https://zoff-scope-backend.azurewebsites.net";async function c(a,c){console.log(`[API] Fetching stores from: ${b}/stores/`);let d=new URLSearchParams;a&&d.append("prefecture",a),c&&d.append("city",c),d.append("_t",Date.now().toString());let e=await fetch(`${b}/stores/?${d.toString()}`,{cache:"no-store"});if(!e.ok)throw Error("Failed to fetch stores");return e.json()}async function d(a){let c=await fetch(`${b}/stores/${a}/staff`,{cache:"no-store"});if(!c.ok)throw Error("Failed to fetch staff");return c.json()}async function e(){let a=await fetch(`${b}/staffs/`,{cache:"no-store"});if(!a.ok)throw Error("Failed to fetch all staff");return a.json()}async function f(a=1e3){let c=await fetch(`${b}/tags/?limit=${a}`,{cache:"no-store"});if(!c.ok)throw Error("Failed to fetch tags");return c.json()}async function g(a){let c=await fetch(`${b}/staffs/${a}`,{cache:"no-store"});if(!c.ok)throw Error("Failed to fetch staff");return c.json()}async function h(a){let c=await fetch(`${b}/stores/${a}`,{cache:"no-store"});if(!c.ok)throw Error("Failed to fetch store");return c.json()}a.s(["fetchAllStaff",()=>e,"fetchStaff",()=>g,"fetchStore",()=>h,"fetchStoreStaff",()=>d,"fetchStores",()=>c,"fetchTags",()=>f])},21374,a=>{"use strict";let b=(0,a.i(70106).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>b],21374)},5619,a=>{"use strict";a.s(["getTagBadgeStyle",0,a=>a<=50?"bg-[#00A0E9]/10 border-[#00A0E9]/20 text-[#00A0E9]":a<=100?"bg-[#F39800]/10 border-[#F39800]/20 text-[#F39800]":a<=200?"bg-[#8FC31F]/10 border-[#8FC31F]/20 text-[#8FC31F]":"bg-[#951B81]/10 border-[#951B81]/20 text-[#951B81]","getTagStyle",0,(a,b)=>a<=50?b?"bg-[#00A0E9]/15 border-[#00A0E9] text-[#00A0E9] font-bold":"bg-white border-[#00A0E9]/30 text-[#00A0E9] hover:bg-[#00A0E9]/5":a<=100?b?"bg-[#F39800]/15 border-[#F39800] text-[#F39800] font-bold":"bg-white border-[#F39800]/30 text-[#F39800] hover:bg-[#F39800]/5":a<=200?b?"bg-[#8FC31F]/15 border-[#8FC31F] text-[#8FC31F] font-bold":"bg-white border-[#8FC31F]/30 text-[#8FC31F] hover:bg-[#8FC31F]/5":b?"bg-[#951B81]/15 border-[#951B81] text-[#951B81] font-bold":"bg-white border-[#951B81]/30 text-[#951B81] hover:bg-[#951B81]/5"])},74294,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(72131),e=a.i(50944),f=a.i(53250),g=a.i(5619),h=a.i(21374),i=a.i(50522),j=a.i(70106);let k=(0,j.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),l=(0,j.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);function m(){let a=(0,e.useRouter)(),[j,m]=(0,d.useState)([]),[n,o]=(0,d.useState)([]),[p,q]=(0,d.useState)([]),[r,s]=(0,d.useState)(null);(0,d.useEffect)(()=>{(async()=>{console.log("StaffList Component Loaded - v2 (API Centralized)");try{let a=await (0,f.fetchAllStaff)(),b=Array.from(new Map(a.map(a=>[a.display_name,a])).values());m(b);let c=await (0,f.fetchTags)();o(c)}catch(a){console.error("Error fetching data:",a)}})()},[]);let t=j.filter(a=>{if(0===p.length)return!0;let b=(a.tags||[]).map(a=>a.id);return p.every(a=>b.includes(a))}),u=[{id:1,title:"æŠ€è¡“ã‚¹ã‚­ãƒ«ã§é¸ã¶",tags:n.filter(a=>a.id>=1&&a.id<=50),color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"},{id:2,title:"ææ¡ˆãƒ»ã‚¹ã‚¿ã‚¤ãƒ«ã§é¸ã¶",tags:n.filter(a=>a.id>=51&&a.id<=100),color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"},{id:3,title:"ã‚·ãƒ¼ãƒ³ãƒ»ç”¨é€”ã§é¸ã¶",tags:n.filter(a=>a.id>=101&&a.id<=200),color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"},{id:4,title:"è¶£å‘³ãƒ»ã‚«ãƒ«ãƒãƒ£ãƒ¼ã§é¸ã¶",tags:n.filter(a=>a.id>=201),color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200"}];return(0,b.jsxs)("main",{className:"min-h-screen bg-gray-50 pb-10",children:[(0,b.jsx)("header",{className:"bg-[#00A0E9] text-white p-4 shadow-md sticky top-0 z-10",children:(0,b.jsxs)("div",{className:"flex justify-between items-center max-w-md mx-auto",children:[(0,b.jsx)(c.default,{href:"/",className:"font-bold text-lg",children:"< Back"}),(0,b.jsx)("h1",{className:"text-xl font-bold",children:"Zoff Scope"}),(0,b.jsx)("div",{className:"w-10"})]})}),(0,b.jsxs)("div",{className:"p-4 max-w-md mx-auto",children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[(0,b.jsx)("span",{className:"mr-2",children:"ðŸ”"})," ã‚¹ã‚¿ãƒƒãƒ•ã‚’ã‚¿ã‚°ã§æŽ¢ã™"]}),(0,b.jsx)("div",{className:"mb-6 space-y-3",children:u.map(a=>{let c=r===a.id,d=a.tags.filter(a=>p.includes(a.id)).length;return(0,b.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-100 shadow-sm",children:[(0,b.jsxs)("button",{onClick:()=>{var b;return b=a.id,void s(a=>a===b?null:b)},className:`w-full flex items-center justify-between p-4 ${c?a.bgColor:"bg-white hover:bg-gray-50"} transition-colors`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:`font-bold ${a.color}`,children:a.title}),d>0&&(0,b.jsx)("span",{className:"bg-gray-800 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:d})]}),c?(0,b.jsx)(l,{className:`w-5 h-5 ${a.color}`}):(0,b.jsx)(k,{className:"w-5 h-5 text-gray-400"})]}),c&&(0,b.jsx)("div",{className:`p-4 border-t ${a.borderColor} bg-white animate-in slide-in-from-top-2 duration-200`,children:(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.tags.map(a=>(0,b.jsx)("button",{onClick:()=>{var b;return b=a.id,void q(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},className:`px-3 py-1.5 rounded-full text-sm border transition-colors ${(0,g.getTagStyle)(a.id,p.includes(a.id))}`,children:a.name},a.id))})})]},a.id)})}),(0,b.jsx)("div",{className:"mb-4 text-gray-600 text-sm flex justify-between items-center",children:p.length>0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("p",{children:[t.length," åã®ã‚¹ã‚¿ãƒƒãƒ•ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ"]}),(0,b.jsx)("button",{onClick:()=>q([]),className:"text-xs text-red-500 underline",children:"é¸æŠžã‚’ã‚¯ãƒªã‚¢"})]}):(0,b.jsx)("p",{children:"å…¨ã‚¹ã‚¿ãƒƒãƒ•è¡¨ç¤ºä¸­"})}),t.length>0?(0,b.jsx)("div",{className:"space-y-4",children:t.map(c=>(0,b.jsxs)("div",{onClick:()=>a.push(`/staffs/${c.id}`),className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 flex items-center justify-between cursor-pointer hover:bg-gray-50 transition-colors active:scale-[0.99]",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-full overflow-hidden border border-gray-100",children:(0,b.jsx)("img",{src:c.image_url||"/images/staff/default.jpg",alt:c.display_name||c.name,className:"object-cover w-full h-full",onError:a=>{a.currentTarget.src="/globe.svg"}})}),(0,b.jsx)("div",{className:"absolute -bottom-1 -right-1 bg-yellow-400 rounded-full p-1 border-2 border-white shadow-sm",children:(0,b.jsx)(h.Star,{className:"w-3 h-3 text-white fill-current"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h2",{className:"font-bold text-gray-800 text-lg",children:c.display_name||c.name}),(0,b.jsxs)("span",{className:"text-[10px] text-gray-500 bg-gray-100 px-1.5 py-0.5 rounded",children:["Zoff ",c.store?.name]})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1.5",children:c.role||"ã‚¹ã‚¿ãƒƒãƒ•"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-1",children:[(c.tags||[]).slice(0,3).map(a=>(0,b.jsx)("span",{className:`text-[10px] px-2 py-0.5 rounded-full border ${(0,g.getTagBadgeStyle)(a.id)}`,children:a.name},a.id)),(c.tags||[]).length>3&&(0,b.jsxs)("span",{className:"text-[10px] text-gray-400 self-center",children:["+",(c.tags||[]).length-3]})]})]})]}),(0,b.jsx)(i.ChevronRight,{className:"w-5 h-5 text-gray-300"})]},c.id))}):(0,b.jsx)("div",{className:"text-center py-10 text-gray-500 bg-white rounded-xl",children:"è©²å½“ã™ã‚‹ã‚¹ã‚¿ãƒƒãƒ•ã¯ã„ã¾ã›ã‚“"})]})]})}a.s(["default",()=>m],74294)}];

//# sourceMappingURL=_a7d65624._.js.map