module.exports=[50522,a=>{"use strict";let b=(0,a.i(70106).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],50522)},53250,a=>{"use strict";let b="https://zoff-scope-backend.azurewebsites.net";async function c(a,c){console.log(`[API] Fetching stores from: ${b}/stores/`);let d=new URLSearchParams;a&&d.append("prefecture",a),c&&d.append("city",c),d.append("_t",Date.now().toString());let e=await fetch(`${b}/stores/?${d.toString()}`,{cache:"no-store"});if(!e.ok)throw Error("Failed to fetch stores");return e.json()}async function d(a){let c=await fetch(`${b}/stores/${a}/staff`,{cache:"no-store"});if(!c.ok)throw Error("Failed to fetch staff");return c.json()}async function e(){let a=await fetch(`${b}/staffs/`,{cache:"no-store"});if(!a.ok)throw Error("Failed to fetch all staff");return a.json()}async function f(a=1e3){let c=await fetch(`${b}/tags/?limit=${a}`,{cache:"no-store"});if(!c.ok)throw Error("Failed to fetch tags");return c.json()}async function g(a){let c=await fetch(`${b}/staffs/${a}`,{cache:"no-store"});if(!c.ok)throw Error("Failed to fetch staff");return c.json()}a.s(["fetchAllStaff",()=>e,"fetchStaff",()=>g,"fetchStoreStaff",()=>d,"fetchStores",()=>c,"fetchTags",()=>f])},21374,a=>{"use strict";let b=(0,a.i(70106).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>b],21374)},5619,a=>{"use strict";a.s(["getTagBadgeStyle",0,a=>a<=50?"bg-[#00A0E9]/10 border-[#00A0E9]/20 text-[#00A0E9]":a<=100?"bg-[#F39800]/10 border-[#F39800]/20 text-[#F39800]":a<=200?"bg-[#8FC31F]/10 border-[#8FC31F]/20 text-[#8FC31F]":"bg-[#951B81]/10 border-[#951B81]/20 text-[#951B81]","getTagStyle",0,(a,b)=>a<=50?b?"bg-[#00A0E9]/15 border-[#00A0E9] text-[#00A0E9] font-bold":"bg-white border-[#00A0E9]/30 text-[#00A0E9] hover:bg-[#00A0E9]/5":a<=100?b?"bg-[#F39800]/15 border-[#F39800] text-[#F39800] font-bold":"bg-white border-[#F39800]/30 text-[#F39800] hover:bg-[#F39800]/5":a<=200?b?"bg-[#8FC31F]/15 border-[#8FC31F] text-[#8FC31F] font-bold":"bg-white border-[#8FC31F]/30 text-[#8FC31F] hover:bg-[#8FC31F]/5":b?"bg-[#951B81]/15 border-[#951B81] text-[#951B81] font-bold":"bg-white border-[#951B81]/30 text-[#951B81] hover:bg-[#951B81]/5","getTagTitleColor",0,a=>a<=50?"text-[#00A0E9]":a<=100?"text-[#F39800]":a<=200?"text-[#8FC31F]":"text-[#951B81]"])},20480,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(53250),e=a.i(21374),f=a.i(50522),g=a.i(50944),h=a.i(5619);let i={åŒ—æµ·é“:["åŒ—æµ·é“"],æ±åŒ—:["é’æ£®çœŒ","å²©æ‰‹çœŒ","å®®åŸŽçœŒ","ç§‹ç”°çœŒ","å±±å½¢çœŒ","ç¦å³¶çœŒ"],é–¢æ±:["æ±äº¬éƒ½","èŒ¨åŸŽçœŒ","æ ƒæœ¨çœŒ","ç¾¤é¦¬çœŒ","åŸ¼çŽ‰çœŒ","åƒè‘‰çœŒ","ç¥žå¥ˆå·çœŒ"],ç”²ä¿¡è¶Š:["æ–°æ½ŸçœŒ","å±±æ¢¨çœŒ","é•·é‡ŽçœŒ"],åŒ—é™¸:["å¯Œå±±çœŒ","çŸ³å·çœŒ","ç¦äº•çœŒ"],æ±æµ·:["å²é˜œçœŒ","é™å²¡çœŒ","æ„›çŸ¥çœŒ","ä¸‰é‡çœŒ"],è¿‘ç•¿:["æ»‹è³€çœŒ","äº¬éƒ½åºœ","å¤§é˜ªåºœ","å…µåº«çœŒ","å¥ˆè‰¯çœŒ","å’Œæ­Œå±±çœŒ"],ä¸­å›½:["é³¥å–çœŒ","å³¶æ ¹çœŒ","å²¡å±±çœŒ","åºƒå³¶çœŒ","å±±å£çœŒ"],å››å›½:["å¾³å³¶çœŒ","é¦™å·çœŒ","æ„›åª›çœŒ","é«˜çŸ¥çœŒ"],ä¹å·ž:["ç¦å²¡çœŒ","ä½è³€çœŒ","é•·å´ŽçœŒ","ç†Šæœ¬çœŒ","å¤§åˆ†çœŒ","å®®å´ŽçœŒ","é¹¿å…å³¶çœŒ"],æ²–ç¸„:["æ²–ç¸„çœŒ"]};function j(){let a=(0,g.useRouter)(),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)([]),[x,y]=(0,c.useState)(!1);async function z(){try{let a=await (0,d.fetchStores)();k(a)}catch(a){console.error(a)}}async function A(a){y(!0);try{let b=await (0,d.fetchStoreStaff)(a);w(b)}catch(a){console.error(a)}finally{y(!1)}}(0,c.useEffect)(()=>{z()},[]),(0,c.useEffect)(()=>{q(""),s("")},[n]),(0,c.useEffect)(()=>{p?(m(Array.from(new Set(j.filter(a=>a.prefecture===p).map(a=>a.city))).filter(Boolean)),s("")):m([])},[p,j]),(0,c.useEffect)(()=>{t&&A(t.id)},[t]);let B=j.filter(a=>(!n||!i[n]||!!i[n].includes(a.prefecture))&&(!p||a.prefecture===p)&&(!r||a.city===r)),C=n?i[n]:[];return t?(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsx)("button",{onClick:()=>u(null),className:"mb-4 text-blue-600 text-sm flex items-center font-bold",children:"< åº—èˆ—ä¸€è¦§ã«æˆ»ã‚‹"}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm mb-6 border border-gray-100",children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:["Zoff ",t.name]}),(0,b.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:t.address}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[t.phone_number&&(0,b.jsx)("a",{href:`tel:${t.phone_number}`,className:"bg-blue-50 text-blue-600 px-3 py-1 rounded text-sm font-bold",children:"ðŸ“ž é›»è©±ã™ã‚‹"}),(0,b.jsx)("a",{href:`https://www.google.com/maps/search/?api=1&query=Zoff ${t.name}`,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-100 text-gray-600 px-3 py-1 rounded text-sm font-bold",children:"ðŸ“ åœ°å›³ã‚’è¦‹ã‚‹"})]})]}),(0,b.jsx)("h3",{className:"font-bold text-gray-800 mb-4 text-lg",children:"åªä»Šã®å‡ºå‹¤ã‚¹ã‚¿ãƒƒãƒ•"}),(0,b.jsx)("div",{className:"space-y-4",children:x?(0,b.jsx)("p",{className:"text-center text-gray-400",children:"èª­ã¿è¾¼ã¿ä¸­..."}):0===v.length?(0,b.jsx)("p",{className:"text-gray-400 text-center py-8 bg-gray-50 rounded-xl",children:"å‡ºå‹¤ã‚¹ã‚¿ãƒƒãƒ•æƒ…å ±ã¯ã‚ã‚Šã¾ã›ã‚“"}):v.map(c=>(0,b.jsxs)("div",{onClick:()=>a.push(`/staffs/${c.id}`),className:"border rounded-xl p-4 shadow-sm flex items-center justify-between bg-white cursor-pointer hover:bg-gray-50 transition-colors active:scale-[0.99]",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-full overflow-hidden border border-gray-100",children:c.image_url?(0,b.jsx)("img",{src:c.image_url,alt:c.display_name||c.name,className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"w-full h-full bg-gray-300 flex items-center justify-center text-gray-500 text-xs",children:"No Img"})}),(0,b.jsx)("div",{className:"absolute -bottom-1 -right-1 bg-yellow-400 rounded-full p-1 border-2 border-white shadow-sm",children:(0,b.jsx)(e.Star,{className:"w-3 h-3 text-white fill-current"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-gray-800 text-lg",children:c.display_name||c.name}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1.5",children:c.role||"ã‚¹ã‚¿ãƒƒãƒ•"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[c.tags&&c.tags.slice(0,3).map(a=>(0,b.jsx)("span",{className:`text-[10px] px-2 py-0.5 rounded-full border ${(0,h.getTagBadgeStyle)(a.id)}`,children:a.name},a.id)),(c.tags||[]).length>3&&(0,b.jsxs)("span",{className:"text-[10px] text-gray-400 self-center",children:["+",(c.tags||[]).length-3]})]})]})]}),(0,b.jsx)(f.ChevronRight,{className:"w-5 h-5 text-gray-300"})]},c.id))})]}):(0,b.jsxs)("div",{className:"p-4 max-w-md mx-auto bg-white min-h-screen pb-20",children:[(0,b.jsx)("h1",{className:"text-xl font-bold mb-4 text-gray-800",children:"åº—èˆ—ã‚’æŽ¢ã™"}),(0,b.jsxs)("div",{className:"space-y-4 mb-6 bg-gray-50 p-4 rounded-xl",children:[(0,b.jsxs)("select",{className:"w-full p-3 border border-gray-200 rounded-lg bg-white text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",value:n,onChange:a=>o(a.target.value),children:[(0,b.jsx)("option",{value:"",children:"åœ°æ–¹ã‚’é¸æŠž"}),Object.keys(i).map(a=>(0,b.jsx)("option",{value:a,children:a},a))]}),(0,b.jsxs)("select",{className:"w-full p-3 border border-gray-200 rounded-lg bg-white text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none disabled:bg-gray-100 disabled:text-gray-400",value:p,onChange:a=>q(a.target.value),disabled:!n,children:[(0,b.jsx)("option",{value:"",children:"éƒ½é“åºœçœŒã‚’é¸æŠž"}),C.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]}),(0,b.jsxs)("select",{className:"w-full p-3 border border-gray-200 rounded-lg bg-white text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none disabled:bg-gray-100 disabled:text-gray-400",value:r,onChange:a=>s(a.target.value),disabled:!p,children:[(0,b.jsx)("option",{value:"",children:"å¸‚åŒºç”ºæ‘ã‚’é¸æŠž"}),l.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[B.map(a=>(0,b.jsxs)("div",{className:"border border-gray-100 rounded-xl p-4 shadow-sm hover:shadow-md transition-shadow bg-white",children:[(0,b.jsxs)("h2",{className:"font-bold text-lg mb-1 text-gray-800",children:["Zoff ",a.name]}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:a.address}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:a.opening_hours&&(0,b.jsxs)("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:["ðŸ•’ ",a.opening_hours.split("\n")[0],"..."]})}),(0,b.jsx)("button",{className:"w-full bg-blue-600 text-white py-2.5 rounded-lg font-bold hover:bg-blue-700 transition-colors shadow-sm active:transform active:scale-95",onClick:()=>u(a),children:"åº—èˆ—ã‚’é¸æŠž"})]},a.id)),p&&0===B.length&&(0,b.jsx)("div",{className:"text-center py-10",children:(0,b.jsx)("p",{className:"text-gray-400",children:"åº—èˆ—ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚"})}),!p&&(0,b.jsx)("div",{className:"text-center py-10",children:(0,b.jsx)("p",{className:"text-gray-400",children:"åœ°åŸŸãƒ»éƒ½é“åºœçœŒã‚’é¸æŠžã—ã¦ãã ã•ã„"})})]})]})}a.s(["default",()=>j])}];

//# sourceMappingURL=_ec464e30._.js.map