(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54858,e=>{"use strict";let t="https://zoff-scope-backend.azurewebsites.net";async function s(e,s){console.log(`[API] Fetching stores from: ${t}/stores/`);let r=new URLSearchParams;e&&r.append("prefecture",e),s&&r.append("city",s),r.append("_t",Date.now().toString());let a=await fetch(`${t}/stores/?${r.toString()}`,{cache:"no-store"});if(!a.ok)throw Error("Failed to fetch stores");return a.json()}async function r(e){let s=await fetch(`${t}/stores/${e}/staff`,{cache:"no-store"});if(!s.ok)throw Error("Failed to fetch staff");return s.json()}async function a(){let e=await fetch(`${t}/staffs/`,{cache:"no-store"});if(!e.ok)throw Error("Failed to fetch all staff");return e.json()}async function l(e=1e3){let s=await fetch(`${t}/tags/?limit=${e}`,{cache:"no-store"});if(!s.ok)throw Error("Failed to fetch tags");return s.json()}async function o(e){let s=await fetch(`${t}/staffs/${e}`,{cache:"no-store"});if(!s.ok)throw Error("Failed to fetch staff");return s.json()}async function c(e){let s=await fetch(`${t}/stores/${e}`,{cache:"no-store"});if(!s.ok)throw Error("Failed to fetch store");return s.json()}e.s(["fetchAllStaff",()=>a,"fetchStaff",()=>o,"fetchStore",()=>c,"fetchStoreStaff",()=>r,"fetchStores",()=>s,"fetchTags",()=>l])},61911,e=>{"use strict";let t=(0,e.i(75254).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["Users",()=>t],61911)},95250,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(22016),a=e.i(18566),l=e.i(61911),o=e.i(75254);let c=(0,o.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),n=(0,o.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var i=e.i(54858);function d(){let e=(0,a.useParams)(),[o,d]=(0,s.useState)([]),[f,h]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{e.id&&(async()=>{try{let t=await (0,i.fetchStoreStaff)(Number(e.id));d(t)}catch(e){console.error(e)}finally{h(!1)}})()},[e.id]),(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-800",children:[(0,t.jsx)("header",{className:"bg-white border-b border-gray-200 p-4 sticky top-0 z-10 flex justify-between items-center shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.default,{href:"/store",className:"text-gray-500 hover:text-blue-600 font-bold text-sm",children:"← 店舗選択"}),(0,t.jsx)("span",{className:"text-gray-300",children:"|"}),(0,t.jsx)("h1",{className:"text-lg font-bold text-gray-800",children:"店舗ダッシュボード"})]})}),(0,t.jsxs)("main",{className:"p-6 max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,t.jsxs)(r.default,{href:`/store/${e.id}/service`,className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1 flex flex-col justify-between h-48",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c,{className:"w-10 h-10 mb-4 opacity-80"}),(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Service Mode"}),(0,t.jsx)("p",{className:"text-blue-100 mt-1",children:"接客・カルテ・視力データ確認"})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)("span",{className:"bg-white/20 px-4 py-2 rounded-full text-sm font-bold flex items-center backdrop-blur-sm",children:["開く ",(0,t.jsx)(n,{className:"w-4 h-4 ml-1"})]})})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 shadow-sm flex flex-col justify-center items-center text-gray-400",children:[(0,t.jsx)("span",{className:"text-sm",children:"本日の予約数"}),(0,t.jsx)("span",{className:"text-4xl font-bold text-gray-700",children:"12"})]})]}),(0,t.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[(0,t.jsx)(l.Users,{className:"w-5 h-5 mr-2 text-blue-600"}),"所属スタッフ一覧"]}),f?(0,t.jsx)("div",{className:"text-center py-10 text-gray-500",children:"読み込み中..."}):(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(s=>(0,t.jsxs)(r.default,{href:`/store/${e.id}/staff/${s.id}`,className:"bg-white p-4 rounded-xl border border-[#00A0E9] shadow-sm hover:shadow-md transition-all flex items-center gap-4 group",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gray-100 flex-shrink-0 border border-gray-100",children:(0,t.jsx)("img",{src:s.image_url||"/images/staff/default.jpg",alt:s.display_name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform",onError:e=>{e.currentTarget.src="/globe.svg"}})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"font-bold text-gray-800 truncate",children:s.display_name}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:s.roles?s.roles.join(", "):"Staff"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[(0,t.jsx)("span",{className:"text-[10px] bg-blue-50 text-blue-600 px-2 py-0.5 rounded-full border border-blue-200",children:"#フィッティング"}),(0,t.jsx)("span",{className:"text-[10px] bg-orange-50 text-orange-600 px-2 py-0.5 rounded-full border border-orange-200",children:"#色彩検定"})]})]})]},s.id))})]})]})}e.s(["default",()=>d],95250)}]);